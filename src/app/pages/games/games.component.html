<div class="">
  <div class="games-component-container">
    <div class="">
      <h1 class="page__title">Popular Games</h1>
      <p class="page__description">
        Discover an unbeatable selection of discounted PC games, showcasing the
        best the gaming world has to offer. Browse through over 100,000 titles,
        with the most popular PC games displayed first. Curious about how we
        rank game popularity? Itâ€™s easy! Games with the most visits to their
        price comparison pages climb higher on our charts. To keep things fresh
        and relevant, our rankings are based solely on clicks from the past 24
        hours!
      </p>
    </div>
    <div class="presets">
      <app-tag
        (tagClicked)="onSortChange($event)"
        [value]="'Popularity'"
        [isActive]="orderBy == 'Popularity'"
        [text]="'Most Popular'"
      ></app-tag>
      <app-tag
        (tagClicked)="onSortChange($event)"
        [value]="'PriceHighest'"
        [text]="'Premium'"
        [isActive]="orderBy == 'PriceHighest'"
      ></app-tag>
      <app-tag
        (tagClicked)="onSortChange($event)"
        [value]="'PriceLowest'"
        [text]="'Best Deals'"
        [isActive]="orderBy == 'PriceLowest'"
      ></app-tag>
      <app-tag
        (tagClicked)="onSortChange($event)"
        [value]="'AZ'"
        [text]="'A to Z'"
        [isActive]="orderBy == 'AZ'"
      ></app-tag>
    </div>
    <app-filters
      (filtersChanged)="handleFilterChange($event)"
      (searchChanged)="handleSearchChange($event)"
    ></app-filters>

    <div class="game-container">
      <div class="game-list">
        @if (isLoading) { @for (item of [1,2,3,4,5]; track item) {
        <div>
          <app-games-skeleton></app-games-skeleton>
        </div>
        } } @else { @for (game of games; track $index) {
        <div
          (mouseenter)="
            onMouseEnter(game.urlName, game.name, game.headerImageUrl)
          "
          (mouseleave)="onMouseLeave()"
        >
          <app-game-card [game]="game"></app-game-card>
        </div>
        } }
        <app-pagination
          (pageChange)="onPageChange($event)"
          [currentPage]="currentPage"
          [totalPages]="totalPages"
        ></app-pagination>
      </div>

      <div class="sidebar">
        <div class="games-card" style="position: sticky; top: 500px">
          <app-game-detail-card
            [gameId]="hoveredGameId"
            [gameName]="hoveredGameName"
            [gameImage]="hoveredGameImage"
          ></app-game-detail-card>
        </div>
      </div>
    </div>
  </div>
</div>
